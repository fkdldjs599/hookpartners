<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="HOOK 파트너스 페이지입니다.">
	<meta property="og:title" content="HOOK 파트너스">
	<meta property="og:description" content="마케팅의 시작 HOOK 파트너스">
	<meta property="og:image" content="">
	<meta property="og:url" content="">
	<title>HOOK 파트너스</title>

	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/style.css">
	<script src="https://code.jquery.com/jquery-latest.min.js"></script>
	<script src="js/script.js"></script>
</head>



<body>
<!-- 왼쪽메뉴 -->

<section class="left_menu vt_top">

	<h1 class="logo_area">
		<div class="mb_side vt_mid">
			<button type="button" class="open_menu">
				<img src="img/ham.png" alt="메뉴 열기">
			</button>
		</div>

		<a href="index2.html" class="link_a">
			<span class="vt_mid gm logo">HOOK</span>
			<span class="vt_mid part">파트너스</span>
		</a>

		<div class="mb_side vt_mid">
			<button type="button" class="go_home">
				<img src="img/mb_home.png" alt="홈으로">
			</button>
		</div>
	</h1>

	<div class="mb_black_bg"></div>

	<div class="mb_white_bg">

		<div class="close_area">
			<button type="button" class="close_btn">
				<img src="img/close_white.png" alt="닫기">
			</button>
		</div>

		<div class="nav_profile">

			<a href="profile_edit.html" class="vt_mid">
				<div class="nick"><strong class="strong">유저아이디유저아이디유저아이디</strong> 님</div>
			</a>

			<div class="logout_area">
				<button type="button" class="logout_btn">로그아웃</button>
			</div>
		</div>


		<nav class="nav">
			<a href="showroom.html" class="nav_a">
				<div class="vt_mid icon"><img src="img/nav1.png" alt="쇼룸 이용권"></div>
				<div class="vt_mid menu">쇼룸 이용권</div>
			</a>
			<a href="credit.html" class="nav_a on">
				<div class="vt_mid icon"><img src="img/nav2_on.png" alt="크레딧 충전"></div>
				<div class="vt_mid menu">크레딧 충전</div>
			</a>
			<a href="credit_list.html" class="nav_a">
				<div class="vt_mid icon"><img src="img/nav3.png" alt="크레딧 내역"></div>
				<div class="vt_mid menu">크레딧 내역</div>
			</a>
			<a href="order_list.html" class="nav_a">
				<div class="vt_mid icon"><img src="img/nav4.png" alt="주문 내역"></div>
				<div class="vt_mid menu">주문 내역</div>
			</a>
			<a href="upload_ad.html" class="nav_a">
				<div class="vt_mid icon"><img src="img/nav5.png" alt="광고 등록"></div>
				<div class="vt_mid menu">광고 등록</div>
			</a>
			<a href="progress.html" class="nav_a">
				<div class="vt_mid icon"><img src="img/nav6.png" alt="진행 현황"></div>
				<div class="vt_mid menu">진행 현황</div>
			</a>
		</nav>


		<!-- <div class="btn_area">
			<button type="button" class="logout_btn">로그아웃</button>
		</div> -->

	</div>
</section>



<!-- 상단프로필 -->

<section class="right_con vt_top"> <!-- right_con 끝나는 태그는 tail.html에 있음 -->

	<div class="top_bar">

		<a href="index2.html" class="go_home">
			<img src="img/icon_home.png" alt="홈으로 가기">
		</a>

		<a href="profile_edit.html" class="profile_area">
			<div class="vt_mid profile">
				<div class="grid">
					<img src="img/eximg.jpg" id="profile" alt="" class="p_img">
				</div>
			</div>
			<div class="vt_mid nick">유저아이디유저아이디</div>
			<div class="vt_mid last">님</div>
		</a>

		<button type="button" class="logout_btn">로그아웃</button>
	</div>



<script>
	$(".logout_btn").click(function(){
		if(confirm("로그아웃 하시겠습니까?")){
			location.href='index.html'
		}
	});


</script>


<section id="payment" class="contents">
	<article class="c_block">
		<h2 class="title">결제하기</h2>
		<div class="cont">
			<div class="white_box">
				<div class="pay_block">
					<h3 class="subtitle">결제 상품</h3>

					<div class="payinfo fs0">
						<div class="pi_block pi1 vt_mid">
							<div class="top">상품명</div>
							<div class="bot">크레딧 50,000</div>
						</div>
						<div class="pi_block pi2 vt_mid">
							<div class="top">가격</div>
							<div class="bot">50,000원</div>
						</div>
						<div class="pi_block pi3 vt_mid">
							<div class="top">부가세</div>
							<div class="bot">5,000원</div>
						</div>
						<div class="pi_block pi4 vt_mid">
							<div class="top">합계</div>
							<div class="bot bold">55,000 원</div>
						</div>
					</div>
				</div>

				<div class="pay_block">
					<h3 class="subtitle">결제 정보</h3>

					<div class="payinfo pt_50">

						<form action="/payment_exe.php" method="post" class="paygogo">

						<input type="hidden" name="order_id" value="<?php echo $order_id;?>"><!--주문번호-->
						<input type="hidden" name="typeyo" value="크레딧">
						<input type="hidden" name="pro_name" value="<?php echo $_POST['pro_name'];?>">	
						<input type="hidden" name="itemName" value="<?php echo $_POST['pro_name'];?> <?php echo $_POST['pro_price'];?>C">	
						<input type="hidden" name="pro_price" value="<?php echo $_POST['pro_price'];?>">
						<input type="hidden" name="pro_num" value="<?php echo $_POST['pro_num'];?>">
						<input type="hidden" name="total_pay" value="<?php echo $_POST['total_pay'];?>">
						<input type="hidden" name="amount" value="<?php echo $_POST['total_pay'];?>">
						<input type="hidden" name="cardPw" value="" class="cardpwval">
						<input type="hidden" name="cardNo" value="" class="cardNoval">
						<input type="hidden" name="mb_id" value="<?php echo $member['mb_id'];?>">


							<div class="pi_left vt_mid">
								<div class="p_block">
									<label for="username_id" class="p_lab vt_top">구매자명</label>
									<div class="input_wrap vt_top">
										<input type="text" name="userName" id="username_id" class="input wid100" placeholder="구매자">
									</div>
								</div>
								<div class="p_block">
									<label for="card1" class="p_lab vt_top">카드번호</label>
									<div class="input_wrap vt_top">
										<input type="number" name="card1" id="card1" class="input size1 vt_mid cd_input11">
										<span class="vt_mid gap">-</span>
										<input type="number" name="card2" id="card2" class="input size1 vt_mid cd_input22">
										<span class="vt_mid gap">-</span>
										<input type="password" name="card3" id="card3" class="input size1 vt_mid cd_input33">
										<span class="vt_mid gap">-</span>
										<input type="password" name="card4" id="card4" class="input size1 vt_mid cd_input44">
									</div>
								</div>
								<div class="p_block">
									<label for="end_month" class="p_lab vt_top">유효기간</label>
									<div class="input_wrap vt_top">
										<input type="number" name="expireMonth" id="end_month" class="input size1 val_inputm" placeholder="MM">
										<span class="vt_mid gap">/</span>
										<input type="number" name="expireYear" id="end_year" class="input size1 val_inputy" placeholder="YY">
									</div>
								</div>
								<div class="p_block">
									<label for="pass1" class="p_lab vt_top">비밀번호<br>(앞 2자리)</label>
									<div class="input_wrap vt_top">
										<input type="number" name="pass1" id="pass1" class="input size2 sec_input22" >
										<span class="vt_mid gap2"></span>
										<input type="number" name="pass2" id="pass2" class="input size2 sec_input33">
										<span class="vt_mid gap2"></span>
										<span class="vt_mid star">*</span>
										<span class="vt_mid gap2"></span>
										<span class="vt_mid star">*</span>
									</div>
								</div>
								<div class="p_block">
									<label for="birthday" class="p_lab vt_top">생년월일<br>(사업자번호)</label>
									<div class="input_wrap vt_top">
										<input type="number" name="birthday" id="birthdayv" class="input wid100">
										<div class="sub">* 생년월일 6자리 또는 사업자번호 10자리</div>
									</div>
								</div>
								<div class="p_block">
									<label for="quota" class="p_lab vt_top">할부기간</label>
									<div class="input_wrap vt_top">
										<select name="quota" id="quota" class="select size3">
											<option value="0">일시불</option>
											<option value="1">2개월</option>
											<option value="2">3개월</option>
											<option value="3">4개월</option>
											<option value="4">5개월</option>
											<option value="5">6개월</option>
											<option value="6">7개월</option>
											<option value="7">8개월</option>
											<option value="8">9개월</option>
											<option value="9">10개월</option>
										</select>
									</div>
								</div>
							</div> <!--pi_left-->

							<i class="bar vt_mid"></i>

							<div class="pi_right vt_mid">
								<div class="gray_border">
									<h4 class="alltext">총 결제 금액</h4>

									<div class="gray_back">
										<span class="vt_mid">크레딧 50,000</span>
									</div>

									<div class="line_wrap">
										<i class="bar1"></i>
										<i class="bar2"></i>
									</div>

									<div class="allprice"><strong class="strong">55,000</strong> 원</div>

									<div class="pay_btn">
										<button type="button" class="btn_common pay">결제하기</button>
									</div>
								</div>
							</div> <!--pi_right-->
						</form> 
					</div>
				</div>

			</div>
		</div>
	</article>
</section>


<script>

    	//카드번호 4자리씩 입력
        $('#card1, #card2, #card3, #card4').on('input', function() {
		  var val = $(this).val();
		  if (val.length > 4) {
		    $(this).val(val.slice(0, 4));
		  }
	    });


		//유효기간 2자리씩 입력
	    $('#end_month, #end_year').on('input', function() {
		  var val = $(this).val();
		  if (val.length > 2) {
		    $(this).val(val.slice(0, 2));
		  }
	    });


		//비밀번호 1자리씩 입력
	    $('#pass1, #pass2').on('input', function() {
		  var val = $(this).val();
		  if (val.length > 1) {
		    $(this).val(val.slice(0, 1));
		  }
	    });


	//hook 앱에서 payment2.php

	$(".pay").click(function(){
		
	   var val1 = $(".sec_input22").val();
	   var val2 = $(".sec_input33").val();
	   
	   var val3 = $(".cd_input11").val();
	   var val4 = $(".cd_input22").val();
	   var val5 = $(".cd_input33").val();
	   var val6 = $(".cd_input44").val();
	   if(!$("#username_id").val()){
		 alert('구매자명을 입력해주세요');
		 return false;
	   }
	   if(!val3 || val3.length!=4){
		 alert('카드번호를 정확히 입력해주세요');
		 return false;
	   }
	   if(!val4 || val4.length!=4){
		 alert('카드번호를 정확히 입력해주세요');
		 return false;
	   }
	   if(!val5 || val5.length!=4){
		 alert('카드번호를 정확히 입력해주세요');
		 return false;
	   }
	   if(!val6 || val6.length != 4){
		 alert('카드번호를 정확히 입력해주세요');
		 return false;
	   }
	   if(!$(".val_inputm").val() || $(".val_inputm").val().length != 2){
			alert('유효기간(월)을 2자리 정확히 입력해주세요');
		    return false;
	   }
	   if(!$(".val_inputy").val() || $(".val_inputy").val().length != 2){
			alert('유효기간(년)을 2자리 정확히 입력해주세요');
		    return false;
	   }
	   if(!$("#birthdayv").val() ||  ($("#birthdayv").val().length != 6 && $("#birthdayv").val().length != 10 )){
			alert('생년월일 6자리 또는 사업자번호 10자리를 (-) 없이 정확히 입력해주세요');
		    return false;
	   }



		$(".cardpwval").val(val1+val2);
		
		$(".cardNoval").val(val3+val4+val5+val6);
		$(".paygogo").submit();
	   //cardNoval



	   })
	  

	  
	  $(".cd_input").on("input", function () {
			const maxLength = 4; 
			const currentLength = $(this).val().length;
			if (currentLength >= maxLength) {
			  if(!$(this).is(":last-of-type")){
				$(this).nextAll('.cd_input').first().focus();
			  }

			   $(this).val($(this).val().slice(0, 4));
			}


		});


	$('.val_input').on('input', function(){
		const max = 2;
		const cleng = $(this).val().length;

		if(cleng >= max){
			if(!$(this).is(':last-of-type')){
			$(this).nextAll('.val_input').first().focus();
		}
			$(this).val($(this).val().slice(0,2));
	}



	});


	$('.sec_input').on('input', function () {
		const max = 1;
		const clent = $(this).val().length;

		if (clent >= max) {
			if (!$(this).is(':last-of-type')) {
				$(this).nextAll('.sec_input').first().focus();
			}
			 $(this).val($(this).val().slice(0, max));
		}

	  
	});
</script>

</section>


<div class="go_top_area">
    <button type="button" class="go_top">
        <img src="img/go_top_black.png" alt="상단으로">
    </button>
</div>


</body>
</html>